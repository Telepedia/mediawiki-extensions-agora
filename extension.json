{
  "name": "Agora",
  "author": [
    "Telepedia Ltd."
  ],
  "url": "https://github.com/telepedia/agora/",
  "descriptionmsg": "agora-desc",
  "license-name": "GPL-3.0-or-later",
  "type": "other",
  "version": "0.0.0-alpha",
  "requires": {
    "MediaWiki": ">= 1.43.0"
  },
  "MessagesDirs": {
    "Agora": [
      "i18n"
    ]
  },
  "AutoloadNamespaces": {
    "Telepedia\\Extensions\\Agora\\": "includes"
  },
  "ServiceWiringFiles": [
    "includes/ServiceWiring.php"
  ],
  "AvailableRights": [
    "comments",
    "comments-admin"
  ],
  "HookHandlers": {
    "main": {
      "class": "Telepedia\\Extensions\\Agora\\Hooks\\MainHandler"
    },
    "schema": {
      "class": "Telepedia\\Extensions\\Agora\\Hooks\\SchemaHandler"
    }
  },
  "Hooks": {
    "BeforePageDisplay": "main",
    "EditPageGetCheckboxesDefinition": "main",
    "MakeGlobalVariablesScript": "main",
    "LoadExtensionSchemaUpdates": "schema",
    "GetAllBlockActions": "main",
    "TitleGetRestrictionTypes": "main",
    "EditPage::attemptSave:after": "main"
  },
  "ResourceFileModulePaths": {
    "localBasePath": "resources",
    "remoteExtPath": "Agora/resources"
  },
  "ResourceModules": {
    "ext.agora.comments": {
      "class": "MediaWiki\\ResourceLoader\\CodexModule",
      "packageFiles": [
        "ext.agora.comments/index.js",
        "ext.agora.comments/Agora.vue",
        "ext.agora.comments/store.js",
        "ext.agora.comments/components/CommentList.vue",
        "ext.agora.comments/comment.js",
        "ext.agora.comments/utils.js",
        "ext.agora.comments/components/Popover.vue",
		"ext.agora.comments/components/SingleComment.vue",
		"ext.agora.comments/components/AgoraEditor.vue",
        {
          "name": "icons.json",
          "callback": "MediaWiki\\ResourceLoader\\CodexModule::getIcons",
          "callbackParam": [
            "cdxIconEllipsis",
            "cdxIconSpeechBubbleAdd",
            "cdxIconRestore"
          ]
        }
      ],
      "messages": [
        "agora-comments-header",
        "agora-comments-input-placeholder",
        "agora-error-empty-comment",
        "agora-action-edit",
        "agora-action-report",
        "agora-action-follow",
        "agora-action-history",
        "agora-action-delete",
        "agora-comment-deleted"
      ],
      "dependencies": [
        "pinia",
        "ext.agora.ve",
        "telepedia.fetch",
        "ext.mediawiki.toast"
      ],
      "codexComponents": [
        "CdxButton",
        "CdxIcon"
      ]
    },
    "ext.agora.ve": {
      "packageFiles": [
        "ext.agora.ve/index.js",
        "ext.agora.ve/AgoraTarget.js"
      ],
      "messages": [
        "agora-ve-placeholder"
      ],
      "dependencies": [
        "ext.visualEditor.core",
        "ext.visualEditor.mediawiki",
        "ext.visualEditor.desktopTarget",
        "ext.visualEditor.desktopArticleTarget"
      ]
    }
  },
  "RestRoutes": [
    {
      "path": "/comments/v0/comment",
      "method": [
        "POST"
      ],
      "class": "Telepedia\\Extensions\\Agora\\Rest\\PostCommentHandler",
      "services": [
        "Agora.CommentFactory",
        "Agora.CommentService",
        "TitleFactory"
      ]
    },
    {
      "path": "/comments/v0/comments/{articleId}",
      "method": [
        "GET"
      ],
      "class": "Telepedia\\Extensions\\Agora\\Rest\\GetCommentsHandler",
      "services": [
        "Agora.CommentFactory",
        "Agora.CommentService",
        "TitleFactory"
      ]
    },
    {
      "path": "/comments/v0/comments/delete",
      "method": [
        "DELETE"
      ],
      "class": "Telepedia\\Extensions\\Agora\\Rest\\DeleteCommentHandler",
      "services": [
        "Agora.CommentFactory",
        "Agora.CommentService"
      ]
    },
    {
      "path": "/comments/v0/comments/restore",
      "method": [
        "PATCH"
      ],
      "class": "Telepedia\\Extensions\\Agora\\Rest\\RestoreCommentHandler",
      "services": [
        "Agora.CommentFactory",
        "Agora.CommentService"
      ]
    }
  ],
  "ConfigRegistry": {
    "Agora": "MediaWiki\\Config\\GlobalVarConfig::newInstance"
  },
  "manifest_version": 2
}
